<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8"/>
		<meta name="og:site_name" content="Swiftdaddy"/>
		<link rel="canonical" href="https://seviu.github.io/notes/XCTest%20Tips%20and%20Tricks"/>
		<meta name="twitter:url" content="https://seviu.github.io/notes/XCTest%20Tips%20and%20Tricks"/>
		<meta name="og:url" content="https://seviu.github.io/notes/XCTest%20Tips%20and%20Tricks"/>
		<title>XCTest Tips and Tricks | Swiftdaddy</title>
		<meta name="twitter:title" content="XCTest Tips and Tricks | Swiftdaddy"/>
		<meta name="og:title" content="XCTest Tips and Tricks | Swiftdaddy"/>
		<meta name="description" content="Small code snipets and tricks for when I write tests for my Apps"/>
		<meta name="twitter:description" content="Small code snipets and tricks for when I write tests for my Apps"/>
		<meta name="og:description" content="Small code snipets and tricks for when I write tests for my Apps"/>
		<meta name="twitter:card" content="summary"/>
		<link rel="stylesheet" href="/styles.css" type="text/css"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<link rel="shortcut icon" href="/images/favicon.png" type="image/png"/>
		<link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Swiftdaddy"/>
	</head>
	<body class="item-page">
		<header>
			<div class="wrapper">
				<a class="site-name" href="/">
					<img class="logo"/>
				</a>
				<h4>Blog about App development for iOS</h4>
				<nav>
					<ul>
						<li>
							<a href="/articles">Articles</a>
						</li>
						<li class="selected">
							<a href="/notes">Notes</a>
						</li>
					</ul>
				</nav>
			</div>
		</header>
		<div class="wrapper">
			<article>
				<div class="content"><p>Some tips and tricks I have come across by running XCTest which I thought might be helpful</p><h2>Print the accessibility tree</h2><p>If you want to know which elements are there it is just as easy as put a breakpoint where you are having issues and run the following:</p><pre><code>po <span class="call">print</span>(<span class="type">XCUIApplication</span>().<span class="property">debugDescription</span>)
</code></pre><h2>Element not found?</h2><p>If an element is not found it is maybe because you configured any of its super views with an accessibility identifier.</p><p>Once a view has an accessibility identifier set then subviews will not be visible in the accessibility tree.</p><p>If they are not visible you will not be able to fetch them.</p><h2>Clear the data of your app before running the tests</h2><p>XCTest has a variable called <code>launchArguments</code>. You can pass an argument that your AppDelegate will be able to pick up on start (or any other part of your code)</p><p>On <code>willFinishLaunchingWithOptions</code>just query for this argument and if it is a XCTest then proceed to clean up your app:</p><pre><code><span class="preprocessing">#if DEBUG</span>
  <span class="keyword">if</span> <span class="type">ProcessInfo</span>.<span class="property">processInfo</span>.<span class="property">arguments</span>.<span class="call">contains</span>(<span class="string">"XCTest"</span>) {
    <span class="comment">// cleanup NSDocumentDirectory, disable animations etc...</span>
  }
<span class="preprocessing">#endif</span>
</code></pre><blockquote><p>Tip: If you have problems with legacy code and table/collection views, try to reloadData</p></blockquote></div>
				<br/>
				<br/>
				<p>Published on August 3, 2020</p>
				<span>Tagged with: </span>
				<ul class="tag-list">
					<li>
						<a href="/tags/xctest">xctest</a>
					</li>
				</ul>
			</article>
		</div>
		<footer>
			<p>This website was made in Swift thanks to 
				<a href="https://github.com/johnsundell/ink">Ink</a>, 
				<a href="https://github.com/johnsundell/plot">Plot</a>, 
				<a href="https://github.com/johnsundell/splash">Splash</a> &amp; 
				<a href="https://github.com/johnsundell/publish">Publish</a> by 
				<a href="https://www.swiftbysundell.com">John Sundell</a>
			</p>
			<p>Â©2020 Sebastian Vieira</p>
			<p>Subscribe via 
				<a class="rss" href="/feed.rss">RSS</a>
			</p>
		</footer>
	</body>
</html>